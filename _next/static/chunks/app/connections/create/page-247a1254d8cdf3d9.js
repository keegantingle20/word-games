(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[985],{877:(e,r,a)=>{Promise.resolve().then(a.bind(a,6410))},6410:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>d});var t=a(5155),l=a(2115);let o=()=>({title:"",words:["","","",""],color:"bg-yellow-400",hint:"",description:"",personal:{}});function d(){var e,r;let[a,d]=(0,l.useState)({id:"custom.".concat(Date.now()),title:"My Puzzle",description:"",groups:[o(),o(),o(),o()],metadata:{difficulty:"easy",themes:[],personal:{},tags:[]}}),[s,i]=(0,l.useState)([]);function n(e,r){d(a=>{let t=[...a.groups];return t[e]={...t[e],...r},{...a,groups:t}})}return(0,t.jsxs)("div",{className:"container-page py-8 sm:py-10",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Create Connections Puzzle"}),(0,t.jsx)("div",{className:"grid gap-4 sm:grid-cols-2",children:a.groups.map((e,r)=>{var a;return(0,t.jsxs)("div",{className:"rounded-xl border border-black/10 dark:border-white/10 p-4 bg-[var(--card)]",children:[(0,t.jsxs)("div",{className:"mb-2 font-semibold",children:["Group ",r+1]}),(0,t.jsx)("input",{value:e.title,onChange:e=>n(r,{title:e.target.value}),placeholder:"Group title",className:"w-full mb-2 rounded-md border border-black/10 dark:border-white/10 px-2 py-1"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:e.words.map((a,l)=>(0,t.jsx)("input",{value:a,onChange:a=>n(r,{words:e.words.map((e,r)=>r===l?a.target.value:e)}),placeholder:"Word ".concat(l+1),className:"w-full rounded-md border border-black/10 dark:border-white/10 px-2 py-1"},l))}),(0,t.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[(0,t.jsx)("input",{value:e.hint||"",onChange:e=>n(r,{hint:e.target.value}),placeholder:"Hint (optional)",className:"w-full rounded-md border border-black/10 dark:border-white/10 px-2 py-1"}),(0,t.jsx)("input",{value:e.description||"",onChange:e=>n(r,{description:e.target.value}),placeholder:"Description (optional)",className:"w-full rounded-md border border-black/10 dark:border-white/10 px-2 py-1"})]}),(0,t.jsx)("input",{value:(null==(a=e.personal)?void 0:a.note)||"",onChange:a=>n(r,{personal:{...e.personal||{},note:a.target.value}}),placeholder:"Personal note (optional)",className:"mt-2 w-full rounded-md border border-black/10 dark:border-white/10 px-2 py-1"}),(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("label",{className:"text-sm opacity-70 mr-2",children:"Color"}),(0,t.jsxs)("select",{value:e.color||"bg-yellow-400",onChange:e=>n(r,{color:e.target.value}),className:"rounded-md border border-black/10 dark:border-white/10 bg-[var(--card)] px-2 py-1 text-sm",children:[(0,t.jsx)("option",{value:"bg-yellow-400",children:"Yellow"}),(0,t.jsx)("option",{value:"bg-green-500",children:"Green"}),(0,t.jsx)("option",{value:"bg-blue-500",children:"Blue"}),(0,t.jsx)("option",{value:"bg-purple-500",children:"Purple"})]})]})]},r)})}),(0,t.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[(0,t.jsx)("label",{className:"text-sm opacity-70",children:"Difficulty"}),(0,t.jsxs)("select",{value:(null==(e=a.metadata)?void 0:e.difficulty)||"easy",onChange:e=>d(r=>({...r,metadata:{...r.metadata||{},difficulty:e.target.value}})),className:"rounded-md border border-black/10 dark:border-white/10 bg-[var(--card)] px-2 py-1 text-sm",children:[(0,t.jsx)("option",{value:"easy",children:"Easy"}),(0,t.jsx)("option",{value:"medium",children:"Medium"}),(0,t.jsx)("option",{value:"hard",children:"Hard"}),(0,t.jsx)("option",{value:"expert",children:"Expert"})]}),(0,t.jsx)("input",{value:((null==(r=a.metadata)?void 0:r.tags)||[]).join(", "),onChange:e=>d(r=>({...r,metadata:{...r.metadata||{},tags:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}})),placeholder:"tags (comma)",className:"rounded-md border border-black/10 dark:border-white/10 bg-[var(--card)] px-2 py-1 text-sm"}),(0,t.jsx)("button",{onClick:function(){let e=[];a.groups.forEach((r,a)=>{r.title.trim()||e.push("Group ".concat(a+1," needs a title")),r.words.some(e=>!e.trim())&&e.push("Group ".concat(a+1," has empty words")),4!==new Set(r.words.map(e=>e.toLowerCase().trim())).size&&e.push("Group ".concat(a+1," has duplicate words"))});let r=a.groups.flatMap(e=>e.words.map(e=>e.toLowerCase().trim())),t=new Set(r.filter((e,a)=>r.indexOf(e)!==a));if(t.size&&e.push("Duplicate across groups: ".concat(Array.from(t).join(", "))),i(e),!e.length)try{let e=localStorage.getItem("connectionsLibrary"),r=e?JSON.parse(e):[],t=r.findIndex(e=>e.id===a.id);t>=0?r[t]=a:r.push(a),localStorage.setItem("connectionsLibrary",JSON.stringify(r)),alert("Saved to library")}catch(e){}},className:"ml-auto rounded-md px-3 py-1.5 bg-[var(--accent)] text-white text-sm",children:"Save to Library"})]}),(0,t.jsxs)("div",{className:"mt-6 rounded-xl border border-black/10 dark:border-white/10 p-4 bg-[var(--card)]",children:[(0,t.jsx)("div",{className:"mb-2 font-semibold",children:"Preview"}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3",children:a.groups.flatMap(e=>e.words).map((e,r)=>(0,t.jsx)("div",{className:"rounded-xl px-3 py-3 sm:py-4 font-semibold uppercase tracking-wide border border-black/10 dark:border-white/10 bg-[var(--card)] shadow",children:e||"â€”"},r))}),s.length>0&&(0,t.jsx)("div",{className:"mt-3 text-xs text-red-600 dark:text-red-400 whitespace-pre-wrap",children:s.join("\n")})]})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=877)),_N_E=e.O()}]);