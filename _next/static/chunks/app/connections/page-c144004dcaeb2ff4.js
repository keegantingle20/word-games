(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[572],{87:(e,t,a)=>{"use strict";a.d(t,{$:()=>r});class s{static getInstance(){return s.instance||(s.instance=new s),s.instance}loadGameState(){try{let e=localStorage.getItem("dailyGameState");if(e){let t=JSON.parse(e),a=this.getTodayString();if(t.date!==a)return{wordle:{played:!1,won:!1,guesses:0,word:"",date:a},connections:{played:!1,won:!1,mistakes:0,puzzleId:"",date:a},miniCrossword:{played:!1,won:!1,time:0,date:a}};return t}}catch(e){console.error("Error loading game state:",e)}return{wordle:{played:!1,won:!1,guesses:0,word:"",date:this.getTodayString()},connections:{played:!1,won:!1,mistakes:0,puzzleId:"",date:this.getTodayString()},miniCrossword:{played:!1,won:!1,time:0,date:this.getTodayString()}}}loadStreakData(){try{let e=localStorage.getItem("streakData");if(e)return JSON.parse(e)}catch(e){console.error("Error loading streak data:",e)}return{wordle:0,connections:0,miniCrossword:0,total:0}}saveGameState(){try{localStorage.setItem("dailyGameState",JSON.stringify({...this.gameState,date:this.getTodayString()}))}catch(e){console.error("Error saving game state:",e)}}saveStreakData(){try{localStorage.setItem("streakData",JSON.stringify(this.streakData))}catch(e){console.error("Error saving streak data:",e)}}getTodayString(){return new Date().toISOString().split("T")[0]}isNewDay(){return this.gameState.wordle.date!==this.getTodayString()}hasPlayedToday(e){return this.isNewDay()&&this.resetDailyGames(),this.gameState[e].played}markGamePlayed(e,t,a){this.isNewDay()&&this.resetDailyGames();let s=this.getTodayString();this.gameState[e]={...this.gameState[e],played:!0,won:t,date:s,...a},this.updateStreaks(e,t),this.saveGameState(),this.saveStreakData()}updateStreaks(e,t){t?this.streakData[e]++:this.streakData[e]=0,this.streakData.total=Math.max(this.streakData.wordle,this.streakData.connections,this.streakData.miniCrossword)}resetDailyGames(){let e=this.getTodayString();this.gameState={wordle:{played:!1,won:!1,guesses:0,word:"",date:e},connections:{played:!1,won:!1,mistakes:0,puzzleId:"",date:e},miniCrossword:{played:!1,won:!1,time:0,date:e}}}getStreaks(){return this.isNewDay()&&this.resetDailyGames(),{...this.streakData}}getGameState(e){return this.isNewDay()&&this.resetDailyGames(),{...this.gameState[e]}}getShareText(e){let t=this.getGameState(e);if(this.getStreaks(),!t.played)return"";switch(e){case"wordle":if(!t.won)return"Wordle ".concat(this.getPuzzleNumber()," X/6\n\n").concat(this.getWordleGrid());return"Wordle ".concat(this.getPuzzleNumber()," ").concat(t.guesses,"/6\n\n").concat(this.getWordleGrid());case"connections":if(!t.won)return"Connections ".concat(this.getPuzzleNumber()," X/4\n\n").concat(this.getConnectionsGrid());return"Connections ".concat(this.getPuzzleNumber()," ").concat(4-t.mistakes,"/4\n\n").concat(this.getConnectionsGrid());case"miniCrossword":let a=Math.floor(t.time/60),s=t.time%60,r=a>0?"".concat(a,":").concat(s.toString().padStart(2,"0")):"".concat(s,"s");return"Mini Crossword ".concat(this.getPuzzleNumber()," ").concat(r);default:return""}}getPuzzleNumber(){let e=new Date("2024-01-01");return Math.floor((new Date().getTime()-e.getTime())/864e5)+1}getWordleGrid(){return"⬜⬜⬜⬜⬜\n⬜⬜⬜⬜⬜\n⬜⬜⬜⬜⬜\n⬜⬜⬜⬜⬜\n⬜⬜⬜⬜⬜\n⬜⬜⬜⬜⬜"}getConnectionsGrid(){return"\uD83D\uDFE8\uD83D\uDFE8\uD83D\uDFE8\uD83D\uDFE8\n\uD83D\uDFE9\uD83D\uDFE9\uD83D\uDFE9\uD83D\uDFE9\n\uD83D\uDFE6\uD83D\uDFE6\uD83D\uDFE6\uD83D\uDFE6\n\uD83D\uDFEA\uD83D\uDFEA\uD83D\uDFEA\uD83D\uDFEA"}resetAllData(){this.gameState={wordle:{played:!1,won:!1,guesses:0,word:"",date:this.getTodayString()},connections:{played:!1,won:!1,mistakes:0,puzzleId:"",date:this.getTodayString()},miniCrossword:{played:!1,won:!1,time:0,date:this.getTodayString()}},this.streakData={wordle:0,connections:0,miniCrossword:0,total:0},this.saveGameState(),this.saveStreakData()}constructor(){this.gameState=this.loadGameState(),this.streakData=this.loadStreakData()}}let r=s.getInstance()},3812:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(5155),r=a(2115),n=a(1733),i=a(4342),o=a(9754),l=a(5016),c=a(87);let d={0:"bg-yellow-400 text-black",1:"bg-green-500 text-white",2:"bg-blue-500 text-white",3:"bg-purple-500 text-white"};function u(e){let t=[...e];for(let e=t.length-1;e>0;e--){let a=Math.floor(Math.random()*(e+1));[t[e],t[a]]=[t[a],t[e]]}return t}function m(){let[e,t]=(0,r.useState)(null),[a,m]=(0,r.useState)([]),[h,g]=(0,r.useState)([]),[p,x]=(0,r.useState)([]),[f,y]=(0,r.useState)(0),[w,b]=(0,r.useState)(""),[S,k]=(0,r.useState)(!1),[v,N]=(0,r.useState)(!1),[j,C]=(0,r.useState)(!1),[z,D]=(0,r.useState)(!1),[P,T]=(0,r.useState)(0),G=(0,r.useMemo)(()=>{let t=new Map;return null==e||e.groups.forEach((e,a)=>e.words.forEach(e=>t.set(e,a))),t},[e]);(0,r.useEffect)(()=>{(async()=>{try{let e=(0,o.sS)();if(!e)return void b("Puzzle not found.");t(e),m(u(e.groups.flatMap(e=>e.words))),g([]),x([]),y(0);{let e=c.$.hasPlayedToday("connections");C(e),e&&(D(!0),c.$.getGameState("connections").won?(k(!0),x([0,1,2,3])):N(!0));let t=c.$.getStreaks();T(t.connections)}}catch(e){console.error(e),b("Failed to load puzzle")}})()},[]);let E=f>=4||4===p.length||z;(0,r.useEffect)(()=>{S&&!z&&(c.$.markGamePlayed("connections",!0,{mistakes:f,puzzleId:(null==e?void 0:e.id)||""}),D(!0),T(c.$.getStreaks().connections))},[S,z,f,e]);let I=()=>{let e=c.$.getShareText("connections");navigator.clipboard?(navigator.clipboard.writeText(e),b("Results copied to clipboard!"),setTimeout(()=>b(""),2e3)):alert(e)};return j?(0,s.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto text-center",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-slate-900 dark:text-slate-100 mb-8",children:"Connections"}),(0,s.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-8 mb-6",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"✅"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"Puzzle Complete!"}),(0,s.jsx)("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:S?"You solved today's Connections in ".concat(4-f,"/4!"):"Better luck tomorrow!"}),(0,s.jsxs)("div",{className:"text-sm text-slate-500 dark:text-slate-500 mb-4",children:["Current Streak: ",P]}),(0,s.jsx)("button",{onClick:I,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Share Results"})]}),(0,s.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-500",children:"Come back tomorrow for a new puzzle!"})]})}):e?(0,s.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-slate-900 dark:text-slate-100",children:"Connections"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"text-sm text-slate-500 dark:text-slate-500",children:["Streak: ",P]}),!E&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:function(){E||m(e=>u(e))},className:"px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors font-medium",children:"Shuffle"}),(0,s.jsx)("button",{onClick:function(){if(E||4!==h.length||!e)return;let t=h.map(e=>G.get(e));if(t.every(e=>e===t[0])&&null!=t[0]){let a=t[0];p.includes(a)||x(e=>[...e,a]),m(t=>t.filter(t=>!e.groups[a].words.includes(t))),g([]),b("Correct!"),setTimeout(()=>b(""),1500),3===p.length&&k(!0)}else y(e=>e+1),g([]),b("Not a category"),setTimeout(()=>b(""),1e3),f>=3&&(N(!0),c.$.markGamePlayed("connections",!1,{mistakes:f+1,puzzleId:e.id}),D(!0))},disabled:4!==h.length||E,className:(0,l.cn)("px-4 py-2 rounded-lg font-medium transition-colors",4===h.length?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-100 dark:bg-slate-700 text-slate-400 dark:text-slate-500 cursor-not-allowed"),children:"Submit"})]}),E&&(0,s.jsx)("button",{onClick:I,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Share"})]})]}),(0,s.jsx)("div",{className:"text-center mb-6",children:(0,s.jsxs)("div",{className:"text-sm text-slate-500 dark:text-slate-500",children:["Mistakes: ",f,"/4"]})}),w&&(0,s.jsx)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 text-center text-sm font-medium text-slate-600 dark:text-slate-400",children:w}),(0,s.jsx)("div",{className:"space-y-3 mb-6",children:(0,s.jsx)(i.N,{children:p.sort((e,t)=>e-t).map(t=>{let a=e.groups[t],r=d[t]||"bg-gray-500 text-white";return(0,s.jsxs)(n.P.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},className:(0,l.cn)("rounded-lg px-4 py-3",r),children:[(0,s.jsx)("div",{className:"font-semibold",children:a.title}),(0,s.jsx)("div",{className:"text-sm opacity-90",children:a.words.join(" • ")})]},a.title)})})}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-6",children:(0,s.jsx)(i.N,{children:a.map(t=>{let a=h.includes(t);return(0,s.jsx)(n.P.button,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},onClick:()=>{var a;return a=t,void(!E&&(p.some(t=>e.groups[t].words.includes(a))||g(e=>e.includes(a)?e.filter(e=>e!==a):e.length<4?[...e,a]:e)))},className:(0,l.cn)("rounded-lg px-4 py-3 font-semibold uppercase tracking-wide transition-colors","border-2 bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700","hover:border-slate-300 dark:hover:border-slate-600",a&&"border-blue-500 bg-blue-50 dark:bg-blue-900/20"),disabled:E,children:t},t)})})}),(0,s.jsx)(i.N,{children:S&&(0,s.jsx)(n.P.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},className:"mt-6 rounded-lg px-4 py-3 bg-green-500 text-white text-center font-medium",children:"\uD83C\uDF89 Perfect! You found all the connections!"})}),(0,s.jsx)(i.N,{children:v&&(0,s.jsx)(n.P.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},className:"mt-6 rounded-lg px-4 py-3 bg-red-500 text-white text-center font-medium",children:"\uD83D\uDE14 Out of lives. Try again tomorrow!"})})]})}):(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 text-center text-slate-500 dark:text-slate-400",children:["Loading puzzle...",w&&(0,s.jsx)("div",{className:"mt-4 text-red-500",children:w})]})}},4342:(e,t,a)=>{"use strict";a.d(t,{N:()=>w});var s=a(5155),r=a(2115),n=a(296),i=a(4416),o=a(6553),l=a(9686),c=a(1402),d=a(3127);function u(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class m extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,a=(0,c.s)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h(e){let{children:t,isPresent:a,anchorX:n,root:i}=e,o=(0,r.useId)(),l=(0,r.useRef)(null),c=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=(0,r.useContext)(d.Q),g=function(...e){return r.useCallback(function(...e){return t=>{let a=!1,s=e.map(e=>{let s=u(e,t);return a||"function"!=typeof s||(a=!0),s});if(a)return()=>{for(let t=0;t<s.length;t++){let a=s[t];"function"==typeof a?a():u(e[t],null)}}}}(...e),e)}(l,null==t?void 0:t.ref);return(0,r.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:r,right:d}=c.current;if(a||!l.current||!e||!t)return;l.current.dataset.motionPopId=o;let u=document.createElement("style");h&&(u.nonce=h);let m=null!=i?i:document.head;return m.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===n?"left: ".concat(r):"right: ".concat(d),"px !important;\n            top: ").concat(s,"px !important;\n          }\n        ")),()=>{m.contains(u)&&m.removeChild(u)}},[a]),(0,s.jsx)(m,{isPresent:a,childRef:l,sizeRef:c,children:r.cloneElement(t,{ref:g})})}let g=e=>{let{children:t,initial:a,isPresent:n,onExitComplete:o,custom:c,presenceAffectsLayout:d,mode:u,anchorX:m,root:g}=e,x=(0,i.M)(p),f=(0,r.useId)(),y=!0,w=(0,r.useMemo)(()=>(y=!1,{id:f,initial:a,isPresent:n,custom:c,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;o&&o()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[n,x,o]);return d&&y&&(w={...w}),(0,r.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[n]),r.useEffect(()=>{n||x.size||!o||o()},[n]),"popLayout"===u&&(t=(0,s.jsx)(h,{isPresent:n,anchorX:m,root:g,children:t})),(0,s.jsx)(l.t.Provider,{value:w,children:t})};function p(){return new Map}var x=a(5601);let f=e=>e.key||"";function y(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let w=e=>{let{children:t,custom:a,initial:l=!0,onExitComplete:c,presenceAffectsLayout:d=!0,mode:u="sync",propagate:m=!1,anchorX:h="left",root:p}=e,[w,b]=(0,x.xQ)(m),S=(0,r.useMemo)(()=>y(t),[t]),k=m&&!w?[]:S.map(f),v=(0,r.useRef)(!0),N=(0,r.useRef)(S),j=(0,i.M)(()=>new Map),[C,z]=(0,r.useState)(S),[D,P]=(0,r.useState)(S);(0,o.E)(()=>{v.current=!1,N.current=S;for(let e=0;e<D.length;e++){let t=f(D[e]);k.includes(t)?j.delete(t):!0!==j.get(t)&&j.set(t,!1)}},[D,k.length,k.join("-")]);let T=[];if(S!==C){let e=[...S];for(let t=0;t<D.length;t++){let a=D[t],s=f(a);k.includes(s)||(e.splice(t,0,a),T.push(a))}return"wait"===u&&T.length&&(e=T),P(y(e)),z(S),null}let{forceRender:G}=(0,r.useContext)(n.L);return(0,s.jsx)(s.Fragment,{children:D.map(e=>{let t=f(e),r=(!m||!!w)&&(S===D||k.includes(t));return(0,s.jsx)(g,{isPresent:r,initial:(!v.current||!!l)&&void 0,custom:a,presenceAffectsLayout:d,mode:u,root:p,onExitComplete:r?void 0:()=>{if(!j.has(t))return;j.set(t,!0);let e=!0;j.forEach(t=>{t||(e=!1)}),e&&(null==G||G(),P(N.current),m&&(null==b||b()),c&&c())},anchorX:h,children:e},t)})})}},5016:(e,t,a)=>{"use strict";function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}a.d(t,{cn:()=>s})},5984:(e,t,a)=>{Promise.resolve().then(a.bind(a,3812))}},e=>{e.O(0,[733,754,441,255,358],()=>e(e.s=5984)),_N_E=e.O()}]);